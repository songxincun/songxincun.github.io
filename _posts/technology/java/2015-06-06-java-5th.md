---
layout: post
title:  "第五章：面向对象（上）"
date:   2015-06-14 15:29:52
categories: java
---

* static 修饰的成员不能访问没有 static 修饰的成员
  这句话的理解是：static 修饰的成员是属于该类的，可以不用初始化某个实例。而没有 static 修饰的成员是属于实例的，必须先要初始化一个实例之后，才能访问。所以 static 成员（即没有初始化实例的那个）无法访问非 static 成员（需要初始化实例才有效）
* static 关键字可以用于修饰方法、成员变量。static 修饰的成员表明它属于这个类本身，而不属于这个类的单个实例。这种成员称之为 "静态变量" 或 "静态方法"
* static 修饰的方法和成员变量，既可通过类来调用，也可以通过实例来调用，但是不建议通过实例来调用
* 如果没有自己实现一个构造器，则编译器会为我们自动实现一个参数为空，内容为空的构造器

## 方法
参数个数可变的方法：方法定义中最后一个形参可以定义为一个可变长度的参数
方法如下：

```java
public void test(int a, String... books)
{
    for(String b : books)
    {
        System.out.println(b);
    }
    System.out.println(a);
}

// 调用
test(5, "book1", "book2")
// 或则
test(5, new String[]{"book1", "book2"})
```

* 系统会在第一次使用类时加载类，并初始化这个类。在类的准备阶段，系统将会为该类的类变量分配内存空间，并指定默认初始值

## 封装

|            | private | default | protected | public |
| ---------- | ------- | ------- | --------- | ------ |
| 同一个类中 | *       | *       | *         | *      |
| 同一个包中 |         | *       | *         | *      |
| 子类中     |         |         | *         | *      |
| 全局范围内 |         |         |           | *      |

* 对于类而言，修饰符只有 public 和默认修饰符（不用任何东西修饰）
* public 修饰的类所在的文件名必须以该类为名，可以被所有的类访问到
* 默认修饰符的类只能被同一个包中的其他类使用
* 如果某个类主要用作其他类的父类，该类里面包含的大部分方法可能仅希望被其子类重写，而不想被外界直接调用，则应该使用 protected 修饰这些方法
* protected 主要用于修饰那些希望通过子类来重写的方法

## 包
* 不存在父包和子包的用法，比如说 io.songxincun.github 和 io.songxincun.github.java 从名称上来看有父子模块的关系，但实际使用时没有任何关系，该怎么用怎么用
* 位于同一个包的类可以直接使用，不需要 import 或加全路径
* Java 原文件应当放置在包路径为名的文件夹下面，目的和包存在的意义一样，为了防止命名冲突啊
* javac -d 选项编译后的 class 文件也是放置在包路径为名的文件夹下面，目的也是一样，为了防止命名冲突

## 多态
Java 的变量有两种类型属性：编译时类型和运行时类型
例如：

```java
Animal dog = new Dog();
```
上述代码中 dog 变量的编译时类型是 Animal，而运行时的类型则是 Dog

* instanceof 运算符可以判断某个变量的运行时类型是否为某个类：```if (obj instanceof Object)```
* 其实多态的意思就是可以将子类赋值给父类（子类是一种特殊的父类，例如“狗”是一种特殊的“动物”），但是这时候对象引用只能调用父类的方法，而不再能调用子类的方法。
* 而如果父类的方法被子类重写了的话，那么调用父类的方法其实还是调用的子类的方法，会表现出子类的特性。
* 也就是说同样是 animal，Dog 叫声和 Duck 叫声就不一样了，也就是传说中的多态了。
* 但是！！！与对象的方法不一样的是，对象的实例并不具备这种多态性，也就是在调用对象实例时获取的时父类的实例而非子类。


[jekyll-gh]: https://github.com/jekyll/jekyll
[jekyll]:    http://jekyllrb.com

